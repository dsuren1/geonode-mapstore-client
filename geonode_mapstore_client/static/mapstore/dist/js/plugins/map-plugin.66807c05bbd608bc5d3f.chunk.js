(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[86169],{862769:(e,t,r)=>{var n={"./cesium/plugins/index":[109578,9,76180,9578,45992],"./leaflet/plugins/index":[935701,7,45243,41263,35701,34344],"./openlayers/plugins/index":[103498,9,18672,58493,52043,40353,47202,74738,39413,69141,10027,62875,49232,18504,76932,65604,85986,13581,93546,3498,86320]};function o(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(2).map(r.e)).then((()=>r.t(o,16|t[1])))}o.keys=()=>Object.keys(n),o.id=862769,e.exports=o},419137:(e,t,r)=>{var n={"./cesium/index":[391726,76180,69692,79216,92227],"./leaflet/index":[497611,96259,45243,55215,24226,93991,49967,98324],"./openlayers/index":[864385,96259,18672,58493,52043,40353,47202,74738,39413,69141,10027,41247,62875,72445,52210,18504,30658,78471,70515,24548,98622,24226,93546,6909,49005,45322]};function o(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(1).map(r.e)).then((()=>r(o)))}o.keys=()=>Object.keys(n),o.id=419137,e.exports=o},460604:(e,t,r)=>{"use strict";r.d(t,{hn:()=>n,yg:()=>o,vD:()=>i,jJ:()=>u,oy:()=>a,W:()=>c,B1:()=>s,fU:()=>l,cY:()=>p});var n="ADDITIONALLAYER:ADD_ADDITIONAL_LAYERS",o="ADDITIONALLAYER:REMOVE_ADDITIONAL_LAYER",i="ADDITIONALLAYER:REMOVE_ALL_ADDITIONAL_LAYERS",u="ADDITIONALLAYER:UPDATE_ADDITIONAL_LAYER",a="ADDITIONALLAYER:UPDATE_OPTIONS_BY_OWNER",c=function(e,t){return{type:u,id:e,owner:t,actionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"override",options:arguments.length>3?arguments[3]:void 0}},s=function(e,t){return{type:a,owner:e,options:t}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.owner;return{type:o,id:t,owner:r}},p=function(e){return{type:i,owner:e}}},41156:(e,t,r)=>{"use strict";r.d(t,{fy:()=>n,gd:()=>o,zZ:()=>i,ZR:()=>u});var n="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function i(e){return{type:n,boxEndInfo:e}}function u(e){return{type:o,status:e}}},604206:(e,t,r)=>{"use strict";r.d(t,{hZ:()=>n,pb:()=>o,kD:()=>i,DI:()=>u,IC:()=>a,iU:()=>c,W7:()=>s,uB:()=>l,Rh:()=>p,G_:()=>f,vU:()=>y,Vw:()=>m,KD:()=>d,uj:()=>b,lo:()=>g,Yf:()=>v,fo:()=>O,PY:()=>h,bp:()=>E,oJ:()=>S,k4:()=>w,sc:()=>P,Li:()=>j});var n="CHANGE_DRAWING_STATUS",o="DRAW:END_DRAWING",i="DRAW:SET_CURRENT_STYLE",u="DRAW:GEOMETRY_CHANGED",a="DRAW:DRAW_SUPPORT_STOPPED",c="DRAW:FEATURES_SELECTED",s="DRAW:DRAWING_FEATURES",l="DRAW:SET_SNAPPING_LAYER",p="DRAW:SNAPPING_IS_LOADING",f="DRAW:TOGGLE_SNAPPING",y="DRAW:SET_SNAPPING_CONFIG";function m(e,t,r,n,o){return{type:u,features:e,owner:t,enableEdit:r,textChanged:n,circleChanged:o}}function d(){return{type:c,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function b(){return{type:s,features:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}function g(){return{type:a}}function v(e,t,r,o,i,u){return{type:n,status:e,method:t,owner:r,features:o,options:i,style:u}}function O(e,t){return{type:o,geometry:e,owner:t}}function h(e){return{type:i,currentStyle:e}}var E=function(e){return v("clean","",e,[],{})};function S(){return{type:f}}function w(e){return{type:l,snappingLayer:e}}function P(){return{type:p}}function j(e,t,r){return{type:y,value:e,prop:t,pluginCfg:r}}},129386:(e,t,r)=>{"use strict";r.d(t,{F2:()=>n,fu:()=>o,NF:()=>i,WP:()=>u,_E:()=>a});var n="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function u(e){return{type:i,featuresPath:e}}function a(e,t){return{type:o,features:e,status:t}}},801550:(e,t,r)=>{"use strict";r.d(t,{pP:()=>n,TR:()=>o,N7:()=>i,mq:()=>u,uv:()=>a,Qy:()=>c,IL:()=>s,Li:()=>l,OW:()=>p,ZO:()=>f,Um:()=>y,TF:()=>m,Ls:()=>d,Ec:()=>b,Eu:()=>g,JJ:()=>v,nZ:()=>O,YD:()=>h,GI:()=>E,Jb:()=>S,Uh:()=>w,e$:()=>P,eh:()=>j,$j:()=>T,bJ:()=>A,Mk:()=>D,xy:()=>M,o6:()=>L,FP:()=>N,Mo:()=>_,sO:()=>C,Px:()=>I,hd:()=>x,Ju:()=>R,BV:()=>k,SO:()=>F,H0:()=>q,$X:()=>G,ou:()=>U,NE:()=>H,Lq:()=>z,aN:()=>Z});var n="CHANGE_MAP_VIEW",o="CLICK_ON_MAP",i="CHANGE_MOUSE_POINTER",u="CHANGE_ZOOM_LVL",a="PAN_TO",c="ZOOM_TO_EXTENT",s="ZOOM_TO_POINT",l="CHANGE_MAP_CRS",p="CHANGE_MAP_SCALES",f="CHANGE_MAP_STYLE",y="CHANGE_ROTATION",m="CREATION_ERROR_LAYER",d="UPDATE_VERSION",b="INIT_MAP",g="RESIZE_MAP",v="CHANGE_MAP_LIMITS",O="SET_MAP_RESOLUTIONS",h="REGISTER_EVENT_LISTENER",E="UNREGISTER_EVENT_LISTENER",S="MOUSE_MOVE",w="MOUSE_OUT",P="MAP:MAP_PLUGIN_LOAD",j="MAP:ORIENTATION",T="MAP:UPDATE_MAP_VIEW",A="MAP:UPDATE_MAP_OPTIONS";function D(e,t,r,n){return{type:P,mapType:t,loading:e,loaded:r,error:n}}function M(e,t,r){return{type:s,pos:e,zoom:t,crs:r}}function L(e,t,r,o,i,u,a,c){return{type:n,center:e,zoom:t,bbox:r,size:o,mapStateSource:i,projection:u,viewerOptions:a,resolution:c}}function N(e,t){return{type:o,point:e,layer:t}}function _(e){return{type:i,pointer:e}}function C(e,t){return{type:u,zoom:e,mapStateSource:t}}function I(e,t,r,n){return{type:c,extent:e,crs:t,maxZoom:r,options:n}}function x(e,t){return{type:f,style:e,mapStateSource:t}}function R(){return{type:g}}function k(e){var t=e.restrictedExtent,r=e.crs,n=e.minZoom;return{type:v,restrictedExtent:t,crs:r,minZoom:n}}function F(e){return{type:O,resolutions:e}}var q=function(e,t){return{type:h,eventName:e,toolName:t}},G=function(e,t){return{type:E,eventName:e,toolName:t}},U=function(e){return{type:S,position:e}},H=function(){return{type:w}},z=function(e){return{type:j,orientation:e}},Z=function(e){return{type:A,configUpdate:e}}},73814:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){var o,i,u;o=e,i=t,u=r[t],(i=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(i))in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,{xO:()=>u,HH:()=>a,yp:()=>c,i8:()=>s,hC:()=>l,UK:()=>p});var u="MAP:ADD_POPUP",a="MAP:REMOVE_POPUP",c="MAP:CLEAN_POPUPS",s=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:u,id:e,popup:i({id:e},t),single:r}},l=function(e){return{type:a,id:e}},p=function(){return{type:c}}},213652:(e,t,r)=>{"use strict";r.d(t,{Wz:()=>n,v2:()=>o,gj:()=>i,e_:()=>u});var n="MAP_TYPE_CHANGED",o="MAP_TYPE:UPDATE_LAST_2D_MAPTYPE";function i(e){return{type:n,mapType:e}}function u(e){return{type:o,mapType:e}}},589602:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}r.d(t,{lD:()=>i,yK:()=>u,gf:()=>a,Qr:()=>c,Kx:()=>s,V:()=>l,Wt:()=>p,Qw:()=>f,GI:()=>y,MT:()=>m,XX:()=>d,sc:()=>b,qg:()=>g,Kf:()=>v,ES:()=>O,ud:()=>h,Bd:()=>E,pO:()=>S,Gd:()=>w,$3:()=>P,el:()=>j,CG:()=>T,h2:()=>A,NR:()=>D,RM:()=>M,dD:()=>L,wB:()=>N,Y_:()=>_,nl:()=>C,S1:()=>I});var i="CHANGE_MEASUREMENT_TOOL",u="CHANGE_MEASUREMENT_STATE",a="MEASUREMENT:CHANGE_UOM",c="MEASUREMENT:CHANGED_GEOMETRY",s="MEASUREMENT:SET_TEXT_LABELS",l="MEASUREMENT:SET_CURRENT_FEATURE",p="MEASUREMENT:ADD_AS_LAYER",f="MEASUREMENT:RESET_GEOMETRY",y="MEASUREMENT:CHANGE_FORMAT",m="MEASUREMENT:CHANGE_COORDINATES",d="MEASUREMENT:ADD_MEASURE_AS_ANNOTATION",b="MEASUREMENT:UPDATE_MEASURES",g="MEASUREMENT:INIT",v="MEASUREMENT:SET_MEASUREMENT_CONFIG",O="MEASUREMENT:SET_ANNOTATION_MEASUREMENT";function h(e,t,r,n,o){return{type:d,features:e,textLabels:t,uom:r,save:n,properties:o}}function E(e){return function(t){t(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){var o,i,u;o=e,i=t,u=r[t],(i=function(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===n(t)?t:String(t)}(i))in o?Object.defineProperty(o,i,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[i]=u})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:i},e)}(e))}}function S(e,t){return{type:O,features:e,properties:t}}function w(e,t,r){return{type:a,uom:e,value:t,previousUom:r}}function P(e){return{type:c,features:e}}function j(e,t){return{type:v,property:e,value:t}}function T(e){return{type:s,textLabels:e}}function A(e){return{type:l,featureIndex:e}}function D(e,t,r){return{type:p,features:e,textLabels:t,uom:r}}function M(e){return{type:y,format:e}}function L(e){return{type:m,coordinates:e}}function N(){return{type:f}}function _(e){return{type:b,measures:e}}function C(e){return{type:u,pointMeasureEnabled:e.pointMeasureEnabled,lineMeasureEnabled:e.lineMeasureEnabled,areaMeasureEnabled:e.areaMeasureEnabled,bearingMeasureEnabled:e.bearingMeasureEnabled,geomType:e.geomType,values:e.values,feature:e.feature,point:e.point,len:e.len,area:e.area,bearing:e.bearing,lenUnit:e.lenUnit,areaUnit:e.areaUnit}}function I(){return{type:g,defaultOptions:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}},615402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(675263),o=r.n(n),i=r(124852),u=r.n(i);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function p(e,t,r){return(t=f(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var y=r(868195).FormattedHTMLMessage,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(p,e);var t,r,n,o,i=(n=p,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=l(n);if(o){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),i.apply(this,arguments)}return t=p,(r=[{key:"render",value:function(){return this.context.intl?u().createElement(y,{id:this.props.msgId,values:this.props.msgParams}):u().createElement("span",null,this.props.msgId||"")}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(u().Component);p(m,"propTypes",{msgId:o().string.isRequired,msgParams:o().object}),p(m,"contextTypes",{intl:o().object});const d=m},819983:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(124852),o=r.n(n),i=r(675263),u=r.n(i),a=r(552259);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){return function(t){var r,i,u,c,s,p,f,y=(null==t||null===(r=t.map)||void 0===r?void 0:r.projection)||"EPSG:3857",m=(null==t||null===(i=t.map)||void 0===i||null===(u=i.mapOptions)||void 0===u||null===(c=u.view)||void 0===c?void 0:c.DPI)||null,d=null==t||null===(s=t.map)||void 0===s||null===(p=s.mapOptions)||void 0===p||null===(f=p.view)||void 0===f?void 0:f.scales,b=(0,n.useMemo)((function(){return d?(0,a.getResolutionsForScales)(d,y,m):null}),[d,y,m]),g=b?l(l({},t),{},{map:l(l({},t.map),{},{mapOptions:l(l({},t.map.mapOptions),{},{view:l(l({},t.map.mapOptions.view),{},{resolutions:b})})})}):t;return o().createElement(e,g)}};p.propTypes={Component:u().element};const f=p},38560:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(480681),o=r(124852),i=r.n(o),u=r(294184),a=r.n(u),c=["disabled","className","onClick"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}const l=(p=n.Button,i().forwardRef((function(e,t){var r=e.disabled,n=e.className,o=e.onClick,u=void 0===o?function(){}:o,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,c);return i().createElement(p,s({ref:t,className:r?a()("disabled",n):n,onClick:function(){r||u.apply(void 0,arguments)}},l),l.children)})));var p},568382:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>St});var n=r(675263),o=r.n(n),i=r(124852),u=r.n(i),a=r(322843),c=r(472986),s=r.n(c),l=r(893379),p=r.n(l),f=r(512817);p()(f.Z,{insert:"head",singleton:!1}),f.Z.locals;var y=r(805346),m=r(737275),d=r(801550),b=r(747037),g=r.n(b),v=r(800827),O=r(93152),h=r(675110),E=r(227361),S=r.n(E),w=r(22222),P=r(986267);function j(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A=function(e){return S()(e,e&&e.featuregrid&&e.featuregrid.open&&e.featuregrid.showFilteredObject?"query.filterObj.spatialField":"emptyObject")},D=function(e){return A(e)&&A(e).geometry},M=(0,w.P1)([function(e){return D(e)&&D(e).coordinates||[]},function(e){return D(e)&&D(e).type||"Polygon"},function(e){return D(e)&&D(e).id||"spatial_object"},function(e){return D(e)&&D(e).projection||"EPSG:3857"}],(function(e,t,r,n){var o={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:t,coordinates:e},style:{fillColor:"#FFFFFF",fillOpacity:"0.2",color:"#ffcc33"},id:r}]};return e.length>0&&t?(0,P.reprojectGeoJson)(o,n,"EPSG:4326").features:[]})),L=(0,w.P1)([M,function(e){return S()(e,e&&e.highlight&&e.highlight.featuresPath||"highlight.emptyFeatures")||[]}],(function(e,t){return[].concat(j(t),j(e))})),N=r(274621),_=r(308316),C=r(38842),I=r(784715),x=r(618446),R=r.n(x);const k=(0,I.o)(R())(v.pb,v.Od,O.$v,h.Hi,L,(function(e){return e.mapInitialConfig&&e.mapInitialConfig.loadingError&&e.mapInitialConfig.loadingError.data}),N.y8,v.zT,O.m6,C.wk,C.c3,_.KV,(function(e,t,r,n,o,i,u,a,c,s,l,p){return{projectionDefs:e,map:t,mapType:r,layers:n,features:o,loadingError:i,securityToken:u,elevationEnabled:a,shouldLoadFont:c,isLocalizedLayerStylesEnabled:s,localizedLayerStylesName:l,currentLocaleLanguage:p}}));var F=r(171703),q=r(480681);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===G(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=(0,w.P1)(v.Od,O.$v,O.c0,(function(e,t,r){return{map:e,mapType:t,isCesium:r}})),W={updateConfigAction:d.aN};const V=(0,F.connect)(Z,W)((function(e){var t=e.map,r=e.mapType,n=e.isCesium,o=e.updateConfigAction,i=e.mapOptions,a=H(H({},i&&i[r]||m.ZP.getConfigProp("defaultMapOptions")&&m.ZP.getConfigProp("defaultMapOptions")[r]||{}),null==t?void 0:t.mapOptions),c=function(e,t){o(z({},t,!e[t]))};return n?u().createElement("form",null,u().createElement(q.FormGroup,null,u().createElement(q.ControlLabel,null,u().createElement(y.Z,{msgId:"map.settings.title"}))),u().createElement(q.Checkbox,{checked:a.showSkyAtmosphere,onChange:function(){return c(a,"showSkyAtmosphere")}},u().createElement(y.Z,{msgId:"map.settings.skyAtmosphere"})),u().createElement(q.Checkbox,{checked:a.showGroundAtmosphere,onChange:function(){return c(a,"showGroundAtmosphere")}},u().createElement(y.Z,{msgId:"map.settings.groundAtmosphere"})),u().createElement(q.Checkbox,{checked:a.enableFog,onChange:function(){return c(a,"enableFog")}},u().createElement(y.Z,{msgId:"map.settings.fog"})),u().createElement(q.Checkbox,{checked:a.depthTestAgainstTerrain,onChange:function(){return c(a,"depthTestAgainstTerrain")}},u().createElement(y.Z,{msgId:"map.settings.depthTest"}))):null}));var B=r(601321),Y=r(345304),K=r(604206),$=r(727418),J=r.n($);function X(e){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X(e)}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==X(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===X(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re={drawStatus:null,drawOwner:null,drawMethod:null,options:{},features:[],tempFeatures:[],snapping:!1,snappingIsLoading:!1,snappingLayer:!1},ne={edge:!0,vertex:!0,pixelTolerance:10,strategy:"bbox"};var oe=r(41156),ie={status:null};var ue=r(129386);function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ae(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le={status:"disabled",layer:"featureselector",features:[],highlighted:0,featuresPath:"highlight.emptyFeatures",emptyFeatures:[]};var pe=r(556874),fe=r(460604),ye=r(91175),me=r.n(ye),de=r(535937),be=r.n(de),ge=r(406557),ve=r.n(ge),Oe=r(513218),he=r.n(Oe),Ee=r(701469),Se=r.n(Ee);function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==we(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===we(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ae=r(49977),De=r.n(Ae),Me=r(580416),Le=r(881808),Ne=r(263516),_e=r(55105),Ce=r(782904),Ie=r(624262),xe=r(552259),Re=r(197395),ke=r(921914),Fe=r(66604),qe=r.n(Fe);function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==Ge(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ge(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ze={checkMapPermissions:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(Ne.XP).filter((function(){return(0,v.J9)(n())})).map((function(){var e=(0,v.J9)(n());return(0,Le.I6)(e)}))},handleCreationLayerError:function(e,t){return e.ofType(d.TF).delay(500).switchMap((function(e){var r=(0,O.$v)(t.getState()),n=(0,h.CA)(t.getState(),e.options.id);return n&&(0,Ie.yJ)(n,r)?De().Observable.from([(0,Me.He)(e.options.id,{invalid:!0})]):De().Observable.empty()}))},handleCreationBackgroundError:function(e,t){return e.ofType(d.TF).delay(500).filter((function(e){var r=(0,h.x)(t.getState());return r&&e.options.id===r.id&&"background"===e.options.group})).switchMap((function(e){var r=(0,O.$v)(t.getState()),n=me()((0,h.pV)(t.getState()).filter((function(t){return(0,Ie.yJ)(t,r)&&t.id!==e.options.id})));return n?De().Observable.from([(0,Me.He)(n.id,{visibility:!0}),(0,Ce.Xg)("backgroundSelector","currentLayer",n),(0,Ce.Xg)("backgroundSelector","tempLayer",n),(0,Re.Kp)({title:"warning",message:"notification.backgroundLayerNotSupported",action:{label:"close"},position:"tc"})]):De().Observable.of((0,Re.Kp)({title:"warning",message:"notification.noBackgroundLayerSupported",action:{label:"close"},position:"tc"}))}))},resetMapOnInit:function(e){return e.ofType(d.Ec).switchMap((function(){return De().Observable.of((0,fe.cY)(),(0,Ce.fV)(),(0,Me.nN)(),(0,ke.XP)())}))},resetLimitsOnInit:function(e,t){return e.ofType(Le.ok,d.Li).switchMap((function(){var e=(0,v.A0)(t.getState()),r=(0,v.zj)(t.getState()),n=(0,v.S)(t.getState());return De().Observable.of((0,d.BV)({restrictedExtent:r,crs:e,minZoom:n}))}))},zoomToExtentEpic:function(e,t){var r=t.getState,n=void 0===r?function(){}:r;return e.ofType(d.Qy).switchMap((function(e){var t=function(e){if(Se()(e))return e.map((function(e){return"string"==typeof e||e instanceof String?Number(e):e}));if(he()(e)){var t=qe()(e,(function(e){return"string"==typeof e||e instanceof String?Number(e):e}));return[t.minx,t.miny,t.maxx,t.maxy]}return null}(e.extent);if(!t)return De().Observable.empty();var r=xe.default.getHook(xe.default.ZOOM_TO_EXTENT_HOOK),o=(0,_e.CF)(n());if(r){var i=e.crs,u=e.maxZoom,a=e.options;return r(t,He({crs:i,padding:o,maxZoom:u},void 0===a?{}:a)),De().Observable.empty()}return function(e,t){var r=0,n=e.extent,o=void 0===n?[]:n,i=P.default.reprojectBbox(o,e.crs,t.bbox&&t.bbox.crs||"EPSG:4326");if(i){var u=P.default.reproject(xe.default.getCenterForExtent(o,e.crs),e.crs,"EPSG:4326");if("EPSG:4326"===e.crs&&o&&o[0]<=-180&&o[1]<=-90&&o[2]>=180&&o[3]>=90)r=1;else{var a=P.default.reprojectBbox(o,e.crs,t.projection||"EPSG:4326");r=xe.default.getZoomForExtent(a,t.size,0,21,null)}e.maxZoom&&r>e.maxZoom&&(r=e.maxZoom);var c={minx:i[0],miny:i[1],maxx:i[2],maxy:i[3]},s=He(He({},t.bbox),{},{bounds:c});return De().Observable.of((0,d.o6)(u,r,s,t.size,e.mapStateSource,t.projection,t.viewerOptions))}return De().Observable.empty()}(He(He({},e),{},{extent:t}),(0,v.Od)(n()))}))}};var Ze=r(73814),We=r(589602),Ve=r(97266);function Be(e){return{type:"CHANGE_SELECTION_STATE",geomType:e.geomType,point:e.point,line:e.line,polygon:e.polygon}}var Ye=r(120096);function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==Ke(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ke(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qe=function(){return u().createElement("span",null)};const et=function(e,t){return Promise.all([r(419137)("./"+e+"/index"),r(862769)("./"+e+"/plugins/index")]).then((function(r){var n,o,i=(n=r,o=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,a=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(s)throw o}}return a}}(n,o)||function(e,t){if(e){if("string"==typeof e)return Xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xe(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].default,u=(0,F.connect)((function(e){return{projectionDefs:(0,v.pb)(e),mousePosition:(0,v.x9)(e)}}),J()({},{onMapViewChanges:d.o6,onClick:d.FP,onMouseMove:d.ou,onLayerLoading:Me.Yz,onLayerLoad:Me.kI,onLayerError:Me.XG,onWarning:Re.Kp,onMouseOut:d.NE},t),(function(e,t,r){return J()({},r,e,J()({},t,{onMouseMove:e.mousePosition?t.onMouseMove:function(){}}))}))(i.LMap),a=(0,F.connect)((function(e){return{enabled:e.controls&&e.controls.measure&&e.controls.measure.enabled||!1,measurement:(0,Ve.VH)(e),useTreshold:e.measurement&&e.measurement.useTreshold||null,uom:e.measurement&&e.measurement.uom||{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}}}}),{changeMeasurementState:We.nl,updateMeasures:We.Y_,resetGeometry:We.wB,changeGeometry:We.$3,setTextLabels:We.CG,changeMeasurement:We.Bd})(i.MeasurementSupport||Qe),c=(0,F.connect)((function(e){var t;return Je(Je({},null!==(t=e.draw)&&void 0!==t?t:{}),{},{snappingLayerInstance:(0,Ye.lM)(e)})}),{onChangeDrawingStatus:K.Yf,onEndDrawing:K.fo,onGeometryChanged:K.Vw,onSelectFeatures:K.KD,onDrawingFeatures:K.uj,onDrawStopped:K.lo,setCurrentStyle:K.PY,toggleSnappingIsLoading:K.sc})(i.DrawSupport||Qe),s=(0,F.connect)((0,w.P1)((function(e){return function(e){return e&&e.box&&e.box.status}(e)}),(function(e){return{status:e}})),{onBoxEnd:oe.zZ})(i.BoxSelectionSupport||Qe),l=(0,F.connect)((function(e){return e.highlight||{}}),{updateHighlighted:ue._E})(i.HighlightFeatureSupport||Qe),p=(0,F.connect)((function(e){return{selection:e.selection||{}}}),{changeSelectionState:Be})(i.SelectionSupport||Qe),f=(0,F.connect)(null,{onWarning:Re.Kp})(i.Layer||Qe),y=[],m=(0,F.connect)((0,w.P1)((function(e){return e.mapPopups&&e.mapPopups.popups||y}),(function(e){return{popups:e}})),{onPopupClose:Ze.hC})(i.PopupSupport||Qe);return{Map:u,Layer:f,Feature:i.Feature||Qe,tools:{measurement:a,overview:i.Overview||Qe,scalebar:i.ScaleBar||Qe,draw:c,highlight:l,selection:p,popup:m,box:s},mapType:e}}))};var tt=r(819983),rt=r(47805),nt=r(615402),ot=r(38560);const it=function(e){var t=e.show,r=e.error,n=e.onReload;return t?u().createElement("div",{className:"ms-map-error-panel",style:{position:"absolute",width:"100%",height:"100%",color:"#ffffff",background:"rgba(0, 0, 0, 0.75)",zIndex:100,top:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"}},u().createElement("div",{style:{maxWidth:500}},u().createElement("h1",null,u().createElement(nt.Z,{msgId:"map.renderingErrorTitle"})),u().createElement("p",null,u().createElement(nt.Z,{msgId:"map.renderingErrorMessage"})),(null==r?void 0:r.message)&&u().createElement(q.Alert,{bsStyle:"danger"},u().createElement("small",null,r.message)),n&&u().createElement(ot.Z,{bsStyle:"primary",onClick:function(){return n()}},u().createElement(y.Z,{msgId:"map.reloadMap"})))):null};var ut=r(856175),at=r(879504),ct=r(823208);function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){Ot(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ft.apply(this,arguments)}function yt(e){return function(e){if(Array.isArray(e))return mt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ht(n.key),n)}}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vt(e)}function Ot(e,t,r){return(t=ht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ht(e){var t=function(e,t){if("object"!==st(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==st(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===st(t)?t:String(t)}var Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vt(n);if(o){var r=vt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===st(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gt(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ot(gt(e=i.call.apply(i,[this].concat(r))),"state",{canRender:!0}),Ot(gt(e),"getHighlightLayer",(function(t,r,n){var o=e.state.plugins;return u().createElement(o.Layer,{type:"vector",srs:t,position:r,key:"highlight",options:{name:"highlight"},env:n},e.props.features.map((function(e){return u().createElement(o.Feature,{msId:e.id,key:e.id,crs:t,type:e.type,style:e.style||null,geometry:e.geometry})})))})),Ot(gt(e),"getTool",(function(t){return g()(t)?{name:t,impl:e.state.plugins.tools[t]}:t[e.props.mapType]||t})),Ot(gt(e),"getConfigMapOptions",(function(){return e.props.mapOptions&&e.props.mapOptions[e.props.mapType]||m.ZP.getConfigProp("defaultMapOptions")&&m.ZP.getConfigProp("defaultMapOptions")[e.props.mapType]||{}})),Ot(gt(e),"renderLayers",(function(){var t=e.props.map.projection||"EPSG:3857",r=[];e.props.isLocalizedLayerStylesEnabled&&r.push({name:e.props.localizedLayerStylesName,value:e.props.currentLocaleLanguage});var n=e.state.plugins;return[].concat(yt(e.props.layers),yt(e.props.additionalLayers)).filter(e.filterLayer).map((function(o,i){return u().createElement(n.Layer,{type:o.type,srs:t,position:i,key:o.id||o.name,options:o,securityToken:e.props.securityToken,env:r},e.renderLayerContent(o,t))})).concat(e.props.features&&e.props.features.length&&e.getHighlightLayer(t,e.props.layers.length,r)||[])})),Ot(gt(e),"renderLayerContent",(function(t,r){var n=e.state.plugins;return t.features?t.features.filter((0,rt.createFeatureFilter)(t.filterObj)).map((function(e){return u().createElement(n.Feature,{key:e.id,msId:e.id,type:e.type,crs:r,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})})):null})),Ot(gt(e),"renderSupportTools",(function(){var t=e.props.items.filter((function(e){return!!e.Tool})).map((function(t){var r=t.Tool,n=t.name,o=t.cfg;return u().createElement(r,ft({},o,{key:n,mapType:e.props.mapType}))}));return e.props.tools.map((function(t){var r=e.getTool(t),n=e.props.toolsOptions[r.name]&&e.props.toolsOptions[r.name][e.props.mapType]||e.props.toolsOptions[r.name]||{};return u().createElement(r.impl,ft({key:r.name},n))})).concat(t)})),Ot(gt(e),"filterLayer",(function(t){return!t.useForElevation||"cesium"===e.props.mapType||e.props.elevationEnabled})),Ot(gt(e),"updatePlugins",(function(t){e.currentMapType=t.mapType,t.onLoadingMapPlugins(!0),e.setState({plugins:void 0}),et(t.mapType,t.actions).then((function(r){e._isMounted&&r.mapType===e.currentMapType&&(e.setState({plugins:r}),t.onLoadingMapPlugins(!1,t.mapType),t.onMapTypeLoaded(!0,t.mapType))}))})),e}return t=a,(r=[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,r=t.shouldLoadFont,n=t.fonts;r&&n&&(this.setState({canRender:!1}),Promise.all(n.map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r,n){!function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e,i=arguments.length>3?arguments[3]:void 0,u=o;if({NODE_ENV:"production"}.isTest){var a={},c=function(e){return a[e]=a[e]||{rootCount:0,iframesCreated:!1,timedOut:!1,fontLoaded:!1,requiredExtraTimeout:!1},a[e]};window.reporter=window.reporter||{modifyRootCount:function(e,t){c(e).rootCount+=t},iframesCreated:function(e){c(e).iframesCreated=!0},timedOut:function(e){c(e).timedOut=!0},fontLoaded:function(e){c(e).fontLoaded=!0},requiredExtraTimeout:function(e){c(e).requiredExtraTimeout=!0},getTests:function(){return a}}}n.timeoutAfter&&setTimeout((function(){i&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(u,-1),document.body.removeChild(i),i=0,n.onTimeout&&({NODE_ENV:"production"}.isTest&&window.reporter.timedOut(u),n.onTimeout()))}),n.timeoutAfter),r=function(){i&&i.firstChild.clientWidth===i.lastChild.clientWidth&&({NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(u,-1),document.body.removeChild(i),i=0,{NODE_ENV:"production"}.isTest&&window.reporter.fontLoaded(u),t())},{NODE_ENV:"production"}.isTest&&window.reporter.modifyRootCount(u,1),{NODE_ENV:"production"}.isLegacy||r(document.body.appendChild(i=document.createElement("div")).innerHTML='<div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+o+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</div><div style="position:fixed;white-space:pre;bottom:999%;right:999%;font:999px '+(n.generic?"":"'")+o+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</div>"),{NODE_ENV:"production"}.isLegacy&&r(document.body.appendChild(i=document.createElement("div")).innerHTML='<table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+o+(n.generic?"":"'")+',serif">'+(n.sampleText||" ")+'</span>.</table><table style=position:absolute;bottom:999%;right:999%;width:auto><tr><td style=position:relative><tr><td style="font:999px monospace;white-space:pre">.<span style="font:999px '+(n.generic?"":"'")+o+(n.generic?"":"'")+',monospace">'+(n.sampleText||" ")+"</span>.</table>"),i&&({NODE_ENV:"production"}.isTest&&window.reporter.iframesCreated(u),{NODE_ENV:"production"}.isLegacy||(i.firstChild.appendChild(o=document.createElement("iframe")).style.width="999%",o.contentWindow.onresize=r,i.lastChild.appendChild(o=document.createElement("iframe")).style.width="999%",o.contentWindow.onresize=r),{NODE_ENV:"production"}.isLegacy&&(i.firstChild.firstChild.firstChild.firstChild.appendChild(o=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",o.attachEvent?o.contentWindow.attachEvent("onresize",r):o.contentWindow.onresize=r,i.lastChild.firstChild.firstChild.firstChild.appendChild(o=document.createElement("iframe")).style.cssText="position:absolute;bottom:999%;right:999%;width:999%",o.attachEvent?o.contentWindow.attachEvent("onresize",r):o.contentWindow.onresize=r),{NODE_ENV:"production"}.isTest||(o=setTimeout(r)),{NODE_ENV:"production"}.isTest&&(o=setTimeout((function(){i&&(window.reporter.requiredExtraTimeout(u),r())}))))}(e,r,{timeoutAfter:t.timeoutAfter,onTimeout:n,sampleText:t.sampleText,generic:t.generic})}))}(e,{timeoutAfter:5e3}).catch((function(e){console.warn("Fonts loading check for map style responded slowly or with an error. Fonts in map may not be rendered correctly. This is not necessarily an issue.",e)}))}))).then((function(){e.setState({canRender:!0})}))),this.updatePlugins(this.props),this._isMounted=!0}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mapType===this.props.mapType&&e.actions===this.props.actions||this.updatePlugins(e)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){if(this.props.map&&this.state.canRender&&this.state.plugins){var e=this.props.map.mapOptions,t=void 0===e?{}:e;return u().createElement(this.state.plugins.Map,ft({id:"map"},this.props.options,{projectionDefs:this.props.projectionDefs},this.props.map,{mapOptions:pt(pt({},this.getConfigMapOptions()),t),zoomControl:this.props.zoomControl,onResolutionsChange:this.props.onResolutionsChange,errorPanel:it}),this.renderLayers(),this.renderSupportTools())}return this.props.loadingError?u().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapErrorMessage"},u().createElement(y.Z,{msgId:"map.loadingerror"}),":",this.props.loadingError):u().createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"mapLoadingMessage"},this.props.loadingSpinner?u().createElement(s(),{spinnerName:"circle",overrideSpinnerClassName:"spinner"}):null,u().createElement(y.Z,{msgId:this.props.mapLoadingMessage}))}}])&&dt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(u().Component);Ot(Et,"propTypes",{mapType:o().string,map:o().object,layers:o().array,additionalLayers:o().array,zoomControl:o().bool,mapLoadingMessage:o().string,loadingSpinner:o().bool,loadingError:o().string,tools:o().array,fonts:o().array,options:o().object,mapOptions:o().object,projectionDefs:o().array,toolsOptions:o().object,onResolutionsChange:o().func,actions:o().object,features:o().array,securityToken:o().string,shouldLoadFont:o().bool,elevationEnabled:o().bool,isLocalizedLayerStylesEnabled:o().bool,localizedLayerStylesName:o().string,currentLocaleLanguage:o().string,items:o().array,onLoadingMapPlugins:o().func,onMapTypeLoaded:o().func}),Ot(Et,"defaultProps",{mapType:"leaflet",actions:{},zoomControl:!1,mapLoadingMessage:"map.loading",loadingSpinner:!0,tools:["measurement","scalebar","draw","highlight","popup","box"],options:{},mapOptions:{},fonts:["FontAwesome"],toolsOptions:{measurement:{},locate:{},scalebar:{leaflet:{position:"bottomright"}},overview:{overviewOpt:{position:"bottomright",collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,toggleDisplay:!0},layers:[{type:"osm"}]}},securityToken:"",additionalLayers:[],shouldLoadFont:!1,elevationEnabled:!1,onResolutionsChange:function(){},items:[],onLoadingMapPlugins:function(){},onMapTypeLoaded:function(){}});const St=(0,a.rx)("Map",{component:(0,a.$j)(k,{onResolutionsChange:d.SO,onMapTypeLoaded:d.Mk})((0,tt.Z)(Et)),reducers:{map:B.Z,layers:Y.Z,draw:function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case K.hZ:return J()({},r,{drawStatus:n.status,drawOwner:n.owner,drawMethod:n.method,options:n.options,features:n.features,style:n.style});case K.kD:return J()({},r,{currentStyle:n.currentStyle});case K.DI:return J()({},r,{tempFeatures:n.features});case K.IC:return J()({},r,{tempFeatures:[]});case K.G_:return ee(ee({},r),{},{snapping:!r.snapping});case K.uB:return ee(ee({},r),{},{snappingLayer:n.snappingLayer,snappingIsLoading:!1});case K.Rh:return ee(ee({},r),{},{snappingIsLoading:!r.snappingIsLoading});case K.vU:return ee(ee({},r),{},{snapConfig:ee(ee(ee({},ee(ee({},ne),(null===(e=n.pluginCfg)||void 0===e?void 0:e.snapConfig)||{})),null!==(t=null==r?void 0:r.snapConfig)&&void 0!==t?t:{}),n.prop&&void 0!==n.value?te({},n.prop,n.value):{})});default:return r}},box:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;return t.type===oe.gd?J()({},e,{status:t.status}):e},highlight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue.NF:return J()({},e,{featuresPath:t.featuresPath||"highlight.emptyFeatures"});case ue.F2:return se(se({},e),{},{status:t.status});case ue.fu:return se(se({},e),{},{highlighted:t.features.length,features:t.features,status:t.status||e.status});default:return e}},maptype:pe.Z,additionallayers:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;switch(r.type){case fe.jJ:var n=be()({id:r.id,owner:r.owner,actionType:r.actionType,options:r.options},ve()),o=me()(t.filter((function(e){return e.id===n.id})));return o?t.map((function(e){return e.id===n.id?Te(Te({},o),n):Te({},e)})):[].concat(function(e){if(Array.isArray(e))return Pe(e)}(e=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n]);case fe.hn:return t.concat(r.layers);case fe.oy:var i=r.options,u=r.owner;return t.map((function(e,t){return e.owner===u?Te(Te({},e),{},{options:he()(i)&&i[e.id]||Se()(i)&&i[t]||{}}):Te({},e)}));case fe.yg:var a=r.id,c=r.owner;return c?t.filter((function(e){return e.owner!==c})):t.filter((function(e){return e.id!==a}));case fe.vD:return r.owner?t.filter((function(e){return e.owner!==r.owner})):[];default:return t}}},epics:pt(pt(pt({},ze),at.Z),(0,ut.Z)(ct.Z)),containers:{Settings:function(){return{tool:u().createElement(V,null),position:2}}}})},345304:(e,t,r)=>{"use strict";r.d(t,{Z:()=>C});var n=r(580416),o=r(782904),i=r(727418),u=r.n(i),a=r(423570),c=r.n(a),s=r(513218),l=r.n(s),p=r(701469),f=r.n(p),y=r(91175),m=r.n(y),d=r(747037),b=r.n(d),g=r(264721),v=r.n(g),O=r(984596),h=r.n(O),E=r(624262);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M=function e(t,r){return t&&f()(t)&&t.length>0?t.filter((function(e){return e.id&&e.id!==r||b()(e)&&e!==r})).map((function(t){return l()(t)?u()({},t,t.nodes?{nodes:e(t.nodes,r)}:{}):t})):t},L=function(e,t,r,n){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=M(e,t),u=(0,E.Mk)(i,r);if(u)i=(0,E.oH)(i,u.id,"nodes",o?[t].concat(u.nodes.slice(0)):u.nodes.concat(t));else{u=m()((0,E.IS)([(0,E.Mk)(n,t)]));var a=r.split(".").reduce((function(e,t,n){var o=r.split(".",n+1).join("."),u=(0,E.Mk)(i,o);return u?e.concat(u):e}),[]).pop();a?(u=(0,E.Mk)([u],a.id).nodes[0],i=(0,E.oH)(i,a.id,"nodes",o?[u].concat(a.nodes):a.nodes.concat(u))):i=[u].concat(i)}return i},N=function e(t,r,n){return n?t.map((function(t){return b()(t)?t:t.id===n?P(P({},t),{},{nodes:[].concat(T(t.nodes),[r])}):P(P({},t),{},{nodes:e(t.nodes,r,n)})})):[].concat(T(t),[r])},_=function e(t,r,n){if(t){if(b()(t.id)){var o=t.id.lastIndexOf("."),i=-1!==o?r+t.id.slice(o+(""===r?1:0)):r+(""===r?"":".")+t.id;return u()({},t,{id:i,nodes:t.nodes.map((function(t){return e(t,i,n)}))})}if(b()(t)){var a,c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=A(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return u=e.done,e},e:function(e){a=!0,i=e},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}(n);try{for(c.s();!(a=c.n()).done;){var s=a.value;s.id===t&&(s.group=r)}}catch(e){c.e(e)}finally{c.f()}return t}}return t};const C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{flat:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.kM:return"RefreshLayers"===t.control?u()({},e,{refreshError:[]}):e;case n.cX:var r=(e.flat||[]).map((function(e){return e.id===t.layerId?u()({},e,{loading:!0}):e}));return u()({},e,{flat:r});case n.x9:var i=(e.flat||[]).map((function(e){return e.id===t.layerId?u()({},e,{loading:!1,previousLoadingError:e.loadingError,loadingError:!!t.error&&"Error"}):e}));return u()({},e,{flat:i});case n.vs:var a=t.tilesCount===t.tilesErrorCount,s=(e.flat||[]).map((function(e){return e.id===t.layerId?u()({},e,{previousLoadingError:e.loadingError,loadingError:a?"Error":"Warning"}):e}));return u()({},e,{flat:s});case n.l$:return u()({},e,{refreshing:t.layers,refreshError:[]});case n.CQ:var l=(e.refreshing||[]).filter((function(e){return 0===t.layers.filter((function(t){return t.layer===e.id})).length})),p=t.layers.map((function(e){return{layer:e.fullLayer.title,error:t.error}}));return u()({},e,{refreshing:l,refreshError:[].concat(T(e.refreshError||[]),T(p))});case n.k3:var f=(e.refreshing||[]).filter((function(e){return 0===t.layers.filter((function(t){return t.layer===e.id})).length}));return u()({},e,{refreshing:f});case n.Zz:case n.yS:var y=e.flat||[],d=y.reduce((function(e,r){return e||r.id===t.layer&&"background"===r.group}),!1),b=y.map((function(e){return v()(h()(t.layer),e.id)?u()({},e,t.newProperties,t.params?{params:u()({},e.params,t.params)}:{}):"background"===e.group&&d&&t.newProperties&&t.newProperties.visibility?u()({},e,{visibility:!1}):u()({},e)}));return u()({},e,{flat:b});case n.ms:var g=e.flat.map((function(e){var r=e.group||"Default";return r===t.group||0===r.indexOf("".concat(t.group,"."))?u()({},e,t.newProperties):u()({},e)}));return u()({},e,{flat:g});case n.ih:var O="layers"===t.nodeType?"flat":"groups",S=e[O]||[],w=(0,E.oH)(S,t.node,"expanded",t.status);return u()({},e,j({},O,w));case n.OX:var A=(0,E.Mk)(e.groups||[],t.node),D=A&&A.nodes||"root"===t.node&&e.groups||null;if(D){var C=t.order.map((function(e){return D[e]})),I="root"===t.node?C:(0,E.oH)(e.groups,t.node,"nodes",C),x=t.sortLayers?t.sortLayers(I,e.flat):e.flat;return u()({},e,{groups:I,flat:x})}return e;case n.K$:var R="groups"===t.nodeType?"group":"id";if("group"===R){var k=e.groups?[].concat(e.groups):[],F=(0,E.oH)(k,t.node,t.options);return u()({},e,{groups:F})}var q=e.flat||[],G=!t.options.hasOwnProperty("group"),U=q.map((function(e){return e[R]===t.node||0===e[R].indexOf(t.node+".")?(e.group===(t.options.group||"Default")&&(G=!0),u()({},e,t.options)):u()({},e)})),H=m()(q.filter((function(e){return e[R]===t.node||0===e[R].indexOf(t.node+".")})));if(!G&&H){var z=t.options.group||"Default",Z=L(e.groups,t.node,z,U),W=E.lD?(0,E.lD)(Z,U):U;return u()({},e,{flat:W,groups:Z})}return u()({},e,{flat:U});case n.k7:var V=(0,E.Mk)(e.groups||[],t.node),B=(0,E.Mk)(e.flat,t.node);if(V&&t.index>=0&&"root"!==V.id&&"Default"!==V.id&&(!B||"root"!==t.groupId)){var Y=t.groupId||"Default",K=B?B.group||"Default":function(){var e=V.id.split(".");return e[e.length-2]||"root"}();if(Y===K){var $="root"===K?{nodes:e.groups}:(0,E.Mk)(e.groups,K),J=($&&$.nodes||[]).slice(),X=J.findIndex((function(e){return(e.id||e)===(V.id||V)}));if(-1!==X&&X!==t.index){for(var Q=Math.abs(t.index-X),ee=X<t.index?1:-1,te=X,re=0;re<Q;++re,te+=ee){var ne=J[te];J[te]=J[te+ee],J[te+ee]=ne}var oe="root"===K?J:(0,E.oH)(e.groups,t.groupId,"nodes",J);return u()({},e,{flat:(0,E.lD)(oe,e.flat),groups:oe})}}else{var ie=M(e.groups,V.id||V),ue="root"===Y?{nodes:ie}:(0,E.Mk)(ie,t.groupId);if(ue){var ae=e.flat.map((function(e){return u()({},e)})),ce=_(V,"root"===Y?"":Y,ae),se=ue.nodes.slice();se.splice(t.index,0,ce);var le="root"===Y?se:(0,E.oH)(ie.slice(),ue.id,"nodes",se);return u()({},e,{flat:(0,E.lD)(le,ae),groups:le})}}}return e;case n.sb:if("groups"===t.nodeType){var pe=M(e.groups,t.node);return{flat:e.flat.filter((function(e){return!e.group||e.group!==t.node&&0!==e.group.indexOf(t.node+".")})),groups:pe}}if("layers"===t.nodeType){var fe=t.removeEmpty?(0,E.AZ)(M(e.groups,t.node)):M(e.groups,t.node),ye=e.flat.filter((function(e){return e.id!==t.node}));return u()({},e,{flat:ye,groups:fe})}return e;case n.oE:var me=(e.flat||[]).concat(),de=(e.groups||[]).concat(),be=t.layer.id?t.layer:u()({},t.layer,{id:(0,E.R8)(t.layer)});me.push(be);var ge=be.group||"Default";"background"!==ge&&(de=L(de,be.id,ge,me,t.foreground));var ve=E.lD?(0,E.lD)(de,me):me;return u()({},e,{flat:ve,groups:de});case n.qv:var Oe=M(e.groups,t.layerId),he=e.flat.filter((function(e){return e.id!==t.layerId}));return u()({},e,{flat:he,groups:Oe});case n.Po:var Ee=c()(),Se=N(e.groups,P({id:t.parent?t.parent+"."+Ee:Ee,title:t.group,name:Ee,nodes:[],expanded:!0},t.options),t.parent);return u()({},e,{groups:Se});case n.cI:var we=u()({},e.settings,{expanded:!0,node:t.node,nodeType:t.nodeType,options:t.options});return u()({},e,{settings:we,editLayerName:!1,layerNameIsBeingChecked:!1,layerNameChangeError:!1});case n.g6:var Pe=u()({},e.settings,{expanded:!1,node:null,nodeType:null,options:{}});return u()({},e,{settings:Pe,editLayerName:!1,layerNameIsBeingChecked:!1,layerNameChangeError:!1});case n.I4:var je=u()({},e.settings&&e.settings.options,t.options),Te=u()({},e.settings,{options:je});return u()({},e,{settings:Te});case n.sH:return u()({},e,{flat:[],groups:[],selected:[]});case n.c7:var Ae=e.selected?[].concat(e.selected):[];if(t.id&&"group"===t.nodeType){var De=[].concat(e.groups),Me=(0,E.Mk)(De,t.id),Le=(0,E.ar)(Me);t.ctrlKey&&Me?0===Ae.filter((function(e){return e===t.id})).length?Ae=Ae.concat(Le,[t.id]):(Ae=Ae.filter((function(e){return e!==t.id})),Le.forEach((function(e){Ae=Ae.filter((function(t){return t!==e}))}))):!t.ctrlKey&&Me&&(Ae=0===Ae.filter((function(e){return e===t.id})).length?[].concat(Le,[t.id]):[])}else t.id&&"layer"===t.nodeType?t.ctrlKey?0===Ae.filter((function(e){return e===t.id})).length?Ae.push(t.id):Ae=Ae.filter((function(e){return e!==t.id})):Ae=0===Ae.filter((function(e){return e===t.id})).length||Ae.length>1?[t.id]:[]:Ae=[];return u()({},e,{selected:Ae,settings:{expanded:!1,node:null,nodeType:null,options:{}},layerMetadata:{expanded:!1,metadataRecord:{},maskLoading:!1}});case n._7:return u()({},e,{filter:t.text||""});case n.eF:var Ne=u()({},e.layerMetadata,{metadataRecord:t.metadataRecord,expanded:!0,maskLoading:t.maskLoading});return u()({},e,{layerMetadata:Ne});case n.O6:var _e=u()({},e.layerMetadata,{metadataRecord:{},expanded:!1});return u()({},e,{layerMetadata:_e});default:return e}}},601321:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(801550),o=r(727418),i=r.n(o),u=r(552259),a=r(986267);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var s=["type"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const m=function(){var e,t,r,o,c,l,m,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{eventListeners:{}},b=arguments.length>1?arguments[1]:void 0;switch(b.type){case n.pP:b.type;var g=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(b,s);return g.zoom=isNaN(g.zoom)?1:g.zoom,i()({},d,g);case n.N7:return i()({},d,{mousePointer:b.pointer});case n.mq:return i()({},d,{zoom:b.zoom,mapStateSource:b.mapStateSource});case n.JJ:return i()({},d,{limits:{restrictedExtent:b.restrictedExtent,crs:b.crs,minZoom:b.minZoom}});case n.Li:return i()({},d,{projection:b.crs});case n.OW:if(b.scales){var v=d&&d.mapOptions&&d.mapOptions.view&&d.mapOptions.view.DPI||null,O=u.default.getResolutionsForScales(b.scales,d&&d.projection||"EPSG:4326",v);return i()({},d,{mapOptions:i()({},d&&d.mapOptions,{view:i()({},d&&d.mapOptions&&d.mapOptions.view,{resolutions:O,scales:b.scales})})})}if(d&&d.mapOptions&&d.mapOptions.view&&d.mapOptions.view&&d.mapOptions.view.resolutions){var h=i()({},d);return h.mapOptions=i()({},h.mapOptions),h.mapOptions.view=i()({},h.mapOptions.view),delete h.mapOptions.view.resolutions,0===Object.keys(h.mapOptions.view).length&&delete h.mapOptions.view,0===Object.keys(h.mapOptions).length&&delete h.mapOptions,h}return d;case n.nZ:return i()({},d,{resolutions:b.resolutions});case n.IL:return i()({},d,{center:a.default.reproject(b.pos,b.crs,"EPSG:4326"),zoom:b.zoom,mapStateSource:null});case n.uv:var E=a.default.reproject(b.center,b.center.crs||"EPSG:4326","EPSG:4326");return i()({},d,{center:E,mapStateSource:null});case n.ZO:return i()({},d,{mapStateSource:b.mapStateSource,style:b.style,resize:d.resize?d.resize+1:1});case n.Eu:return i()({},d,{resize:d.resize?d.resize+1:1});case n.Um:var S=i()({},d.bbox,{rotation:b.rotation});return i()({},d,{bbox:S,mapStateSource:b.mapStateSource});case n.Ls:return i()({},d,{version:b.version});case n.YD:return i()({},d,{eventListeners:i()({},d.eventListeners||{},f({},b.eventName,[].concat((m=d.eventListeners&&d.eventListeners[b.eventName]||[],function(e){if(Array.isArray(e))return y(e)}(m)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(m)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[b.toolName])))});case n.GI:var w=d;if(null!=d&&d.eventListeners){var P=(d.eventListeners&&d.eventListeners[b.eventName]||[]).filter((function(e){return e!==b.toolName}))||[];w=i()({},d,{eventListeners:i()({},d.eventListeners,f({},b.eventName,P))})}return w;case n.eh:if(b&&b.orientation&&(b.orientation.center||b.orientation.marker)){var j,T,A,D,M=(null==b||null===(j=b.orientation)||void 0===j||null===(T=j.center)||void 0===T?void 0:T.split(","))||(null==b||null===(A=b.orientation)||void 0===A||null===(D=A.marker)||void 0===D?void 0:D.split(",")),L=M&&M[0],N=M&&M[1],_=b.orientation.zoom,C=b.orientation.heading,I=b.orientation.pitch,x=b.orientation.roll;return i()({},d,{orientate:{x:L,y:N,z:_,heading:C,pitch:I,roll:x}})}return null;case n.$j:var R=parseFloat(null==b||null===(e=b.data)||void 0===e?void 0:e.heading),k=parseFloat(null==b||null===(t=b.data)||void 0===t?void 0:t.pitch),F=parseFloat(null==b||null===(r=b.data)||void 0===r?void 0:r.roll);return{zoom:parseFloat(null==b||null===(o=b.data)||void 0===o?void 0:o.zoom),center:{x:parseFloat(null==b||null===(c=b.data)||void 0===c?void 0:c.coordinate[0]),y:parseFloat(null==b||null===(l=b.data)||void 0===l?void 0:l.coordinate[1])},viewerOptions:{orientation:{heading:R,pitch:k,roll:F}}};case n.bJ:return p(p({},d),{},{mapOptions:p(p({},d.mapOptions),b.configUpdate)});default:return d}}},556874:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(213652),o=r(801550);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mapType:"leaflet"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.Wz:return a(a({},e),{},{mapType:t.mapType,last2dMapType:t.mapType&&"cesium"!==t.mapType?t.mapType:"cesium"!==e.mapType?e.mapType:e.last2dMapType});case n.v2:return t.mapType&&"cesium"!==t.mapType&&t.mapType!==e.last2dMapType?a(a({},e),{},{last2dMapType:t.mapType}):e;case o.e$:return a(a({},e),{},{loaded:a(a({},e.loaded),{},c({},t.mapType,t.loaded))});default:return e}}},120096:(e,t,r)=>{"use strict";r.d(t,{lM:()=>f,jP:()=>y,Qp:()=>m,l:()=>d,$N:()=>b});var n=r(227361),o=r.n(n),i=r(513218),u=r.n(i),a=r(675110),c=r(731255),s=r(784715),l=r(624262),p=r(308316),f=function(e){var t,r;return!(null==e||null===(t=e.draw)||void 0===t||!t.snappingLayer)&&(null!==(r=(0,a.CA)(e,e.draw.snappingLayer))&&void 0!==r?r:(0,a.iv)(e,e.draw.snappingLayer))},y=function(e){return o()(e,"draw.snapping",!1)},m=function(e){return o()(e,"draw.snappingIsLoading",!1)},d=function(e){return o()(e,"draw.snapConfig",!1)},b=(0,s.o)((function(e,t){return e===t||u()(e)&&u()(t)&&(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.title)===(null==t?void 0:t.title)}))([a.l2,a.KL,c.Li,f,d,p.Pz],(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,u=null==n?void 0:n.id,a=null==r?void 0:r.id,c=t.filter((function(e){var t;return(null!==(t=null==o?void 0:o.additionalLayers)&&void 0!==t?t:[]).includes(e.id)})).map((function(e){return e.options})).concat(e);return(a?[{value:a,label:(0,l.in)(r,i),active:a===u}]:[]).concat(c.map((function(e){var t;return!(e.id===a||!["wms","wfs","vector"].includes(null==e?void 0:e.type)||"wms"===(null==e?void 0:e.type)&&"wfs"!==(null==e||null===(t=e.search)||void 0===t?void 0:t.type)||"background"===e.group||!e.visibility)&&{value:e.id,label:(0,l.in)(e,i),active:e.id===u}})).filter(Boolean))}))},731255:(e,t,r)=>{"use strict";r.d(t,{u$:()=>S,Xh:()=>w,_w:()=>P,eO:()=>j,kG:()=>T,P3:()=>A,bq:()=>L,LB:()=>N,b4:()=>_,M0:()=>C,Li:()=>I,Rd:()=>x,g5:()=>R,Sj:()=>k,o:()=>F,eK:()=>q,jY:()=>G,ND:()=>U,OK:()=>H,tU:()=>z,ou:()=>Z,DK:()=>W,Gl:()=>V,uz:()=>B,Ci:()=>Y,Ae:()=>K,gz:()=>$,He:()=>J,P4:()=>X,kd:()=>Q,TC:()=>ee,nq:()=>te,Vf:()=>re,lg:()=>ne});var n=r(91175),o=r.n(n),i=r(227361),u=r.n(i),a=r(513218),c=r.n(a),s=r(675110),l=r(378889),p=r(308316),f=r(552259),y=r(196958),m=r(285148),d=r(274621),b=r(93152),g=r(824260);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=s.CA,S=function(e){return u()(e,"featuregrid.selectedLayer")},w=function(e){return u()(e,"featuregrid.attributes")},P=function(e){return e&&e.featuregrid&&e.featuregrid.select},j=function(e){return e&&e.featuregrid&&e.featuregrid.changes},T=function(e){return e&&e.featuregrid&&e.featuregrid.newFeatures},A=function(e){return o()(P(e))},D=function(e){var t=(0,g.Qs)(e);if(t){var r=(0,l.findGeometryProperty)(t);return r&&r.localType}return null},M=["Geometry","GeometryCollection"],L=function(e){return!o()(M.filter((function(t){return D(e)===t})))},N=function(e){return j(e)&&j(e).length>0},_=function(e){return T(e)&&T(e).length>0},C=function(e){return e&&e.featuregrid&&e.featuregrid.filters},I=function(e){return E(e,S(e))},x=function(e){return e&&e.featuregrid&&e.featuregrid.open},R=function(e,t){return u()(C(e),t)},k=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.title||e.name}(E(e,S(e)));return c()(t)?t[(0,p.Pz)(e)]||t.default||"":t},F=function(e){return((0,g.L)(e)||[]).map((function(t){var r=function(e,t){return u()(e,"featuregrid.attributes[".concat(t.name||t.attribute,"]"))}(e,t);return r?h(h({},t),r):t}))},q=function(e){return e&&e.featuregrid&&e.featuregrid.mode},G=function(e){return(P(e)||[]).length},U=function(e){return(0,y.rK)(j(e))},H=function(e){return function(e){var t=A(e);if(t){var r=(0,y.rK)(j(e));return!((!r[t.id]||null===r[t.id].geometry)&&(r[t.id]&&null===r[t.id].geometry||t._new&&o()(T(e))&&null===o()(T(e)).geometry||(!t._new||!o()(T(e))||null===o()(T(e)).geometry)&&null===t.geometry))}return!1}(e)},z=function(e){return u()(e,"featuregrid.showAgain",!1)},Z=function(e){if(u()(e,"featuregrid.showTimeSync",!1)){var t=S(e);return(0,m.jo)({id:t},"time")(e)}return null},W=function(e){return u()(e,"featuregrid.timeSync",!1)},V=function(e){return u()(e,"featuregrid.showPopoverSync",!0)},B=function(e){return e&&e.featuregrid&&e.featuregrid.saving},Y=function(e){return e&&e.featuregrid&&e.featuregrid.saved},K=function(e){return e&&e.featuregrid&&e.featuregrid.drawing},$=function(e){return u()(e,"featuregrid.multiselect",!1)},J=function(e){return(0,f.isSimpleGeomType)(D(e))},X=function(e){return e.featuregrid&&e.featuregrid.dockSize},Q=function(e){var t=E(e,S(e));return t&&t.name||""},ee=function(e){var t=function(e){return u()(E(e,S(e)),"params")}(e);return{viewParams:t&&(t.VIEWPARAMS||t.viewParams||t.viewparams),cqlFilter:t&&(t.CQL_FILTER||t.cqlFilter||t.cql_filter)}},te=function(e){var t=(0,d.L3)(e),r=function(e){return u()(e,"featuregrid.editingAllowedRoles",["ADMIN"])}(e)||["ADMIN"],n=function(e){return e&&e.featuregrid&&e.featuregrid.canEdit}(e);return(-1!==r.indexOf(t)||n)&&!(0,b.c0)(e)},re=function(e){return u()(e,"featuregrid.pagination")},ne=function(e){return u()(e,"featuregrid.useLayerFilter",!0)}},97266:(e,t,r)=>{"use strict";r.d(t,{JF:()=>f,iL:()=>y,cD:()=>m,jM:()=>d,VH:()=>g,on:()=>v});var n=r(93152),o=r(607147),i=r(761868),u=r(808797),a=r(227361),c=r.n(a);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===s(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){return c()(e,"controls.measure.enabled")},y=function(e){return(0,o.Iz)(e)&&!e.measurement.isDrawing&&(0,n.m6)(e)},m=function(e){return e&&e.measurement&&e.measurement.showAddAsAnnotation},d=function(e){return e&&e.measurement&&e.measurement.trueBearing&&e.measurement.trueBearing.measureTrueBearing},b=function(e){var t=e.measurement.feature||{};return t.geometry&&(t=(0,i.t8)("geometry.coordinates",(0,u.L0)(t.geometry||{}),t)),t},g=function(e){return e.measurement&&p(p({},e.measurement),{},{feature:b(e)})||{}},v=function(e){var t;return null==e||null===(t=e.measurement)||void 0===t?void 0:t.geomType}},824260:(e,t,r)=>{"use strict";r.d(t,{qj:()=>v,Bu:()=>O,UM:()=>h,X1:()=>E,L:()=>S,HY:()=>w,Mz:()=>P,F0:()=>j,dc:()=>T,b0:()=>A,hk:()=>D,Qs:()=>M,gy:()=>L,M7:()=>N,VD:()=>_});var n=r(414293),o=r.n(n),i=r(227361),u=r.n(i),a=r(91175),c=r.n(a),s=r(701469),l=r.n(s),p=r(630998),f=r.n(p);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){var n,o,i;n=e,o=t,i=r[t],(o=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}(o))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(e){return u()(e,"query.filterObj.featureTypeName")},g=function(e){return function(t){return u()(t,'query.featureTypes["'.concat(e,'"]'))}},v=function(e,t){return u()(g(t)(e),"original")},O=function(e){return e&&e.query&&e.query.searchUrl},h=function(e){return e&&e.query&&e.query.url},E=function(e){return e&&e.query&&e.query.filterObj},S=function(e){return u()(g(b(e))(e),"attributes")},w=function(e){return u()(e,"query.typeName")},P=function(e){return u()(e,"query.result.features")},j=function(e){var t=u()(e,"query.result");return d(d({},t),{},{features:(t&&t.features||[]).filter((function(e){return!o()(e.geometry)}))})},T=function(e,t){var r=e&&e.query&&e.query.result&&e.query.result.features;return c()(r.filter((function(e){return e.id===t})))},A={startIndex:function(e){return u()(e,"query.filterObj.pagination.startIndex")},maxFeatures:function(e){return u()(e,"query.filterObj.pagination.maxFeatures")},resultSize:function(e){return u()(e,"query.result.features.length")},totalFeatures:function(e){return u()(e,"query.result.totalFeatures")}},D=function(e,t){var r=g(t)(e);return!!(r&&r.attributes&&r.geometry&&r.original)},M=function(e){return v(e,b(e))},L=function(e){return u()(e,"query.featureLoading")},N=function(e){return u()(e,"query.syncWmsFilter",!1)},_=function(e){var t=u()(e,"query.filterObj.crossLayerFilter"),r=u()(e,"query.filterObj.spatialField"),n=u()(e,"query.filterObj.filterFields");return!!(n&&c()(n)||r&&(r.method&&r.operation&&r.geometry||l()(r)&&f()(r,(function(e){return e.method&&e.operation&&e.geometry}))>-1)||t&&t.collectGeometries&&t.operation)}},808797:(e,t,r)=>{"use strict";r.d(t,{rp:()=>c,Ov:()=>l,wd:()=>p,L0:()=>f}),r(701469);var n=r(91175),o=r.n(n),i=r(807654),u=r.n(i);function a(e){var t=Math.floor(e),r=60*(e-t),n=Math.floor(r),o=60*(r-n);return t+"° "+n+"' "+Math.floor(o)+"'' "}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.measureTrueBearing,n=void 0!==r&&r,o=t.fractionDigits,i=void 0===o?0:o,u="";if(n){var c="";e>=0&&e<10?c="00":e>10&&e<100&&(c="0"),u=c+(i>0?e.toFixed(i):Math.floor(e))+"°"}else e>=0&&e<90?u="N "+a(e)+"E":e>90&&e<=180?u="S "+a(180-e)+"E":e>180&&e<270?u="S "+a(e-180)+"W":e>=270&&e<=360&&(u="N "+a(360-e)+"W");return u}var s={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return s[t]&&s[t][r]?e*s[t][r]:e}var p=function(e){return!u()(parseFloat(e[0]))&&!u()(parseFloat(e[1]))},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,r=e.type,n=t;if("LineString"===r){if((n=t.filter(p)).length<2)return[]}else if("Polygon"===r){if((n=o()(t).filter(p)).length<3)return[[]];n=[n.concat([o()(n)])]}return n}},512817:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(923645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".msgapi .mapErrorMessage {\n    font-size: 16px;\n    color: red;\n}\n",""]);const i=o},807654:(e,t,r)=>{var n=r(281763);e.exports=function(e){return n(e)&&e!=+e}}}]);